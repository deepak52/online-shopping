{"ast":null,"code":"import _regeneratorRuntime from \"/Users/dsabu001/Desktop/my-s5-project/Shopping-Cart/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/dsabu001/Desktop/my-s5-project/Shopping-Cart/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport axios from 'axios';\nexport var getAuthConfig = function getAuthConfig() {\n  var token = JSON.parse(localStorage.getItem('token'));\n  var config = {\n    headers: {\n      'Authorization': \"Bearer \".concat(token),\n      \"Content-Type\": \"application/json\"\n    }\n  };\n  return config;\n};\nexport var listProducts = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n    var config;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            config = getAuthConfig();\n            console.log(config);\n            _context.next = 5;\n            return axios.get(\"http://localhost:8001/products\", config);\n\n          case 5:\n            return _context.abrupt(\"return\", _context.sent);\n\n          case 8:\n            _context.prev = 8;\n            _context.t0 = _context[\"catch\"](0);\n            return _context.abrupt(\"return\", _context.t0);\n\n          case 11:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[0, 8]]);\n  }));\n\n  return function listProducts() {\n    return _ref.apply(this, arguments);\n  };\n}();\nexport var placeOrder = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(data) {\n    var config, url;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.prev = 0;\n            config = getAuthConfig();\n            url = 'http://localhost:8001/orders';\n            _context2.next = 5;\n            return axios.post(url, data.data, config);\n\n          case 5:\n            return _context2.abrupt(\"return\", _context2.sent);\n\n          case 8:\n            _context2.prev = 8;\n            _context2.t0 = _context2[\"catch\"](0);\n            return _context2.abrupt(\"return\", _context2.t0);\n\n          case 11:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2, null, [[0, 8]]);\n  }));\n\n  return function placeOrder(_x) {\n    return _ref2.apply(this, arguments);\n  };\n}();\nexport var listOrders = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(data) {\n    var config, url;\n    return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.prev = 0;\n            config = getAuthConfig();\n            url = 'http://localhost:8001/orders';\n            _context3.next = 5;\n            return axios.get(url, config);\n\n          case 5:\n            return _context3.abrupt(\"return\", _context3.sent);\n\n          case 8:\n            _context3.prev = 8;\n            _context3.t0 = _context3[\"catch\"](0);\n            return _context3.abrupt(\"return\", _context3.t0);\n\n          case 11:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3, null, [[0, 8]]);\n  }));\n\n  return function listOrders(_x2) {\n    return _ref3.apply(this, arguments);\n  };\n}();","map":{"version":3,"sources":["/Users/dsabu001/Desktop/my-s5-project/Shopping-Cart/src/api/product.api.js"],"names":["axios","getAuthConfig","token","JSON","parse","localStorage","getItem","config","headers","listProducts","console","log","get","placeOrder","data","url","post","listOrders"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,OAAO,IAAMC,aAAa,GAAG,SAAhBA,aAAgB,GAAM;AACjC,MAAMC,KAAK,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAX,CAAd;AACE,MAAIC,MAAM,GAAG;AACXC,IAAAA,OAAO,EAAE;AACP,wCAA2BN,KAA3B,CADO;AAEP,sBAAgB;AAFT;AADE,GAAb;AAMF,SAAOK,MAAP;AACD,CATM;AAWP,OAAO,IAAME,YAAY;AAAA,sEAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAElBF,YAAAA,MAFkB,GAETN,aAAa,EAFJ;AAGtBS,YAAAA,OAAO,CAACC,GAAR,CAAYJ,MAAZ;AAHsB;AAAA,mBAIPP,KAAK,CAACY,GAAN,mCAA4CL,MAA5C,CAJO;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAZE,YAAY;AAAA;AAAA;AAAA,GAAlB;AAUP,OAAO,IAAMI,UAAU;AAAA,uEAAG,kBAAMC,IAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEhBP,YAAAA,MAFgB,GAEPN,aAAa,EAFN;AAGhBc,YAAAA,GAHgB,GAGV,8BAHU;AAAA;AAAA,mBAIPf,KAAK,CAACgB,IAAN,CAAWD,GAAX,EAAgBD,IAAI,CAACA,IAArB,EAA2BP,MAA3B,CAJO;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAVM,UAAU;AAAA;AAAA;AAAA,GAAhB;AAUL,OAAO,IAAMI,UAAU;AAAA,uEAAG,kBAAMH,IAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAElBP,YAAAA,MAFkB,GAETN,aAAa,EAFJ;AAGlBc,YAAAA,GAHkB,GAGZ,8BAHY;AAAA;AAAA,mBAITf,KAAK,CAACY,GAAN,CAAUG,GAAV,EAAeR,MAAf,CAJS;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAVU,UAAU;AAAA;AAAA;AAAA,GAAhB","sourcesContent":["import axios from 'axios';\n\nexport const getAuthConfig = () => {\n  const token = JSON.parse(localStorage.getItem('token'));\n    let config = {\n      headers: {\n        'Authorization': `Bearer ${token}`,\n        \"Content-Type\": \"application/json\"\n      }\n    }\n  return config;\n}\n\nexport const listProducts = async() => {\n    try {\n      let config = getAuthConfig();\n      console.log(config)\n        return await axios.get(`http://localhost:8001/products`, config);\n    } catch (e) {\n        return e;\n    }\n}\n\nexport const placeOrder = async(data) => {\n    try {\n      let config = getAuthConfig();\n      let url = 'http://localhost:8001/orders';\n      return await axios.post(url, data.data, config);\n    } catch (error) {\n      return error;\n    }\n  }\n\n  export const listOrders = async(data) => {\n    try {\n      let config = getAuthConfig();\n      let url = 'http://localhost:8001/orders';\n      return await axios.get(url, config);\n    } catch (error) {\n      return error;\n    }\n  }\n\n\n  \n\n  "]},"metadata":{},"sourceType":"module"}